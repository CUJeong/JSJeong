<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체</title>
</head>
<body>
    
    <script>
        // 배열

        // 배열의 선언
        // 자바와는 달리 배열의 사이즈가 유동적이며
        // 담을 수 있는 타입도 자유롭다.
        let myArray = [];

        console.log(myArray);
        // 배열의 크기 (들어있는 개수) 확인
        console.log(myArray.length);

        // 값 넣기
        myArray.push(100);
        console.log(myArray);

        myArray.push("백원");
        console.log(myArray);

        // 인덱싱
        console.log(myArray[0]);
        console.log(myArray[1]);
        console.log(myArray[2]);

        // 해당 인덱스에 값 넣기
        myArray[2] = 300;
        console.log(myArray);

        // myArray[10] = 400;
        console.log(myArray);

        console.log(myArray[3]);

        // push를 까먹었다면?
        // myArray.push(500);
        myArray[myArray.length] = 500;

        // for문으로 배열 순회
        for(let i = 0; i < myArray.length; i++){
            console.log(myArray[i]);
        }

        // for of문
        // [100, 백원, 300, 500]
        for(let item of myArray){
            console.log(item);
        }

        // 값을 넣은 배열 선언
        let items = [32, 14, "안녕", 59];
        console.log(items);

        // 배열 내 요소 삭제
        // 인덱스 a부터 b개 삭제
        items.splice(2, 1);
        console.log(items);

        // JSON 객체 (JavaScript Object Notation)
        let personIU = {};  // 빈 JSON 객체

        personIU = {
            "name": "아이유" ,
            "age": 30,
            "songs": ["좋은날", "밤편지", "어푸"]
        };

        console.log(personIU);

        // JSON 객체 내 값 꺼내보기
        console.log(personIU.name);
        console.log(personIU["name"]);

        console.log(personIU.age);

        // 어푸 꺼내보기
        console.log(personIU.songs[2]);

        // key값이 변수에 담긴 경우
        const keyword = "age";
        console.log(personIU.keyword);
        console.log(personIU[keyword]);

        // key값에 담긴 value값 수정
        personIU.age = 31;
        personIU["name"] = "IU";
        console.log(personIU);

        // songs에 가을아침을 추가하기
        personIU.songs.push('가을아침');
        console.log(personIU);

        // JSON 객체에 속성(Key-Value 한쌍) 추가
        personIU.pet = "강아지";
        personIU["height"] = 160;
        console.log(personIU);

        // JSON 객체 <-> String 변환
        // JSON to String
        let stringIU = JSON.stringify(personIU);
        console.log(stringIU);

        // String to JSON
        let jsonIU = JSON.parse(stringIU);
        console.log(jsonIU);

        console.log(stringIU.name);
        console.log(jsonIU.name);

        const personTY = {
            "name": "태연",
            "age": 34,
            "songs": ["weekend", "다시만난세계", "Fine"]
        };

        const company = {
            "name": "SM",
            "artists": [personIU, personTY]
        }

        // company를 통해 "다시만난세계"를 꺼내보기
        console.log(company["artists"][1]["songs"][1]);
        console.log(company.artists[1].songs[1]);

        // 자바스크립트로 객체지향 프로그래밍하기
        const MyMath = {
            // 절댓값 메소드
            "abs": function(num){
                if(num < 0){
                    num *= -1;
                }
                return num;
            },
            // 내림
            "floor": (num) => {
                return parseInt(num);
            }
        };

        console.log(MyMath.abs(-10));
        console.log(MyMath.floor(3.1415));

        // 자바처럼 객체 만들어서 쓰기
        const Human = function(p_name, p_age){
            this.name = p_name;
            this.age = p_age;

            this.getName = function(){
                return this.name;
            }

            this.setName = function(p_nm){
                this.name = p_nm;
            }

            this.getAge = () => {
                return this.age;
            }

            this.setAge = (p_ag) => {
                this.age = p_ag;
            }
        };

        let hobbang = new Human('호빵맨', 20);
        console.log(hobbang);

        hobbang.setName('호빵소년');
        console.log(hobbang.getName());

        let jjinbbang = new Human('찐빵맨', 21);
        console.log(jjinbbang);

        console.log(typeof hobbang);
        console.log(typeof personIU);

        // 클래스를 통해 만든 JSON 객체 또한 String 변환 가능
        let strHobbang = JSON.stringify(hobbang);
        console.log(strHobbang);

        let jsonHobbang = JSON.parse(strHobbang);
        console.log(jsonHobbang);

        // 데이터를 주고 받는 경우 JSON.stringify와 JSON.parse을
        // 하기 때문에, 메소드가 사라지는 것에 대해 걱정 ㄴㄴ해

        // 함수를 포함시키는 JSON 객체의 경우. 해당 스크립트
        // 내에서 객체지향적으로 사용하기 위해 만들어 쓴다.

        // 배열에 JSON 객체 담기
        let peopleArray = [personIU, personTY];
        peopleArray.push(hobbang);
        peopleArray.push(jjinbbang);

        // 배열 또한 문자열로 변환이 가능하다.
        let strArray = JSON.stringify(peopleArray);
        console.log(strArray);

        let jsonArray = JSON.parse(strArray);
        console.log(jsonArray);


    </script>
</body>
</html>